{
  "nodes": [
    {
      "id": "1",
      "type": "n8n-nodes-base.webhook",
      "name": "Webhook Trigger",
      "parameters": {
        "path": "incoming-data",
        "httpMethod": "POST"
      },
      "position": [100, 100]
    },
    {
      "id": "2",
      "type": "n8n-nodes-base.set",
      "name": "Capture eventId",
      "typeVersion": 2,
      "parameters": {
        "mode": "manual",
        "keepOnlySet": true,
        "values": {
          "string": [
            { "name": "eventId", "value": "={{ $json.event_id || $json.eventId }}" }
          ]
        },
        "options": {}
      },
      "position": [250, 100]
    },
    {
      "id": "3",
      "type": "n8n-nodes-base.googleSheets",
      "name": "Write to Sheet",
      "parameters": {
        "spreadsheetId": "abc123xyz",
        "range": "Sheet1!A1",
        "options": {}
      },
      "position": [400, 100]
    }
  ],
  "connections": {
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Capture eventId",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Capture eventId": {
      "main": [
        [
          {
            "node": "Write to Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "meta": {
    "description": "âœ… GOOD (Simple): Webhook receives payload. Set node extracts eventId. Google Sheets write uses eventId column as unique key.",
    "idempotency_strategy": "eventId - simple approach for Google Sheets",
    "approach": "Simple",
    "notes": [
      "Webhook receives raw payload (e.g., { event_id: 'evt_123', name: 'John', ... })",
      "Set node extracts 'eventId' field into workflow variables",
      "FlowLint detects the 'eventId' parameter in Set node upstream of mutation",
      "Google Sheets can deduplicate using eventId column (manual dedup via data validation or Apps Script)",
      "Simpler setup, no DB constraints needed"
    ]
  }
}
